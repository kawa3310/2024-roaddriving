import{a as x}from"./axios-G2rPRu76.js";import{S as _}from"./sweetalert2.esm.all-HDkAWA8Y.js";import{L as U}from"./index-zaVlbNFQ.js";import{B as j}from"./BreadcrumbComponents-UyEcGljy.js";import{_ as L,c as a,b as g,a as t,w as S,F as m,r as v,o as d,t as C,u as r,d as f,v as p,x as n,y as w,n as E,z as b,A as N}from"./index-A5wm7s54.js";var A={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"rei",BASE_URL:"/2024-roaddriving/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:k,VITE_PATH:V}=A,M={data(){return{due_date:"",courseCard:[],products:[],teacherData:[],form:{product_id:"-O8uWyxkwFrCVqMWH7hz",address:"",date:"",time:"",payment:"信用卡",qty:1},isloading:!1,pageBreadcrumbList:["reservation"]}},methods:{getCourseData(){this.isloading=!0,x.get(`${k}/api/${V}/products/All`).then(l=>{this.products=l.data.products,this.filterData(this.products),this.isloading=!1}).catch(l=>{_.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:l.response.data.message})})},filterData(l){const e=[],c=[];l.forEach(u=>{u.category==="地區"?(e.push(u),this.teacherData=e):u.category==="課程"&&(c.push(u),this.courseCard=c)})},sendOutOrder(){this.$router.push("/checkout")},addCart(){x.post(`${k}/api/${V}/cart`,{data:this.form}).then(()=>{_.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"success",title:"已加入購物車"})}).catch(l=>{_.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:l.response.data.message})})}},computed:{changeCourse(){const l={title:"",text:"",price:"",start:'<i class="bi bi-star-fill"><i class="bi bi-star-fill">',content:"",hours:"",imageUrl:""};return this.courseCard.filter(c=>c.id===this.form.product_id)[0]||l},clickAreaCardData(){return this.teacherData[this.teacherAreaData-1]||{}}},watch:{due_date(){const l=new Date(this.emitVoucher.due_date*1e3).toISOString().split("T");[this.due_date]=l}},components:{Breadcrumb:j,Loading:U},mounted(){this.getCourseData()}},R={class:"container my-lg-9 mt-5 mb-9"},O={class:"my-lg-10"},F={class:"row d-flex flex-reverse justify-content-center"},I={class:"col-lg-4 col-md-6 d-lg-block d-md-block d-none"},P={id:"hot-1",class:"hot-card shadow"},z={key:0,class:"hot-logo"},H={class:"hot-card-img"},q=["src"],W={class:"hot-card-title"},G={class:"hot-course"},J={class:"fw-semibold pt-5"},K={class:"d-flex justify-content-between align-items-center p-4 pb-5"},Q={class:"price"},X={class:"d-flex align-items-center fw-bold"},Y={class:"d-flex justify-content-center pt-1"},Z={class:"col-lg-4 col-md-6 bg-card select-card d-flex flex-column justify-content-between p-5"},$=["value","id"],tt={class:"d-grid gap-4"},et={class:"price text-end"},st={class:"d-lg-none d-md-none mt-3"},ot={id:"hot-1",class:"hot-card shadow"},it={key:0,class:"hot-logo"},lt={class:"hot-card-img"},rt=["src"],at={class:"hot-card-title"},dt={class:"hot-course"},nt={class:"fw-semibold pt-5"},ct={class:"d-flex justify-content-between align-items-center p-4 pb-5"},ut={class:"price"},mt={class:"d-flex align-items-center fw-bold"},ft={class:"d-flex justify-content-center pt-1"},pt={class:"my-lg-10 mt-5"},ht={class:"row"},_t=["for"],gt=["value","id"],vt={class:"teachers-img"},bt=["src"],yt={class:"area"},xt={class:"text-center pt-lg-4 pb-4"},Ct={class:"my-lg-10 mt-5"},wt={class:"container"},kt={class:"row justify-content-center mb-5"},Vt={class:"col-lg-7"},Dt={class:"select-card bg-card p-5"},Tt={class:""},Bt={class:"mb-4 date"},Ut={class:"d-flex justify-content-between d-grid gap-4"},jt={for:"am",class:"form-check-label"},Lt={for:"pm",class:"form-check-label"},St={class:"row justify-content-center"},Et={class:"col-lg-7"},Nt={class:"select-card p-5 d-flex flex-column justify-content-between bg-card"},At={class:"payment d-flex justify-content-center mb-lg-0 mb-4"},Mt={class:"d-flex justify-content-center mb-lg-9 mt-4"},Rt=["disabled"];function Ot(l,e,c,u,o,i){const D=v("Loading"),T=v("Breadcrumb"),B=v("VForm");return d(),a(m,null,[g(D,{active:o.isloading,"z-index":1060},null,8,["active"]),e[23]||(e[23]=t("div",{class:"reservation-bg mb-3"},[t("h2",{class:"bg-banner"},"預約報名")],-1)),g(T,{class:"navigation container mt-3","page-breadcrumb-list":o.pageBreadcrumbList},null,8,["page-breadcrumb-list"]),t("main",null,[t("div",R,[e[22]||(e[22]=t("div",{class:"text-center text-primary pb-8"},[t("p",{class:"main-title fs-1 fw-bold"},"開始預約")],-1)),g(B,{ref:"form",onSubmit:e[6]||(e[6]=y=>i.addCart())},{default:S(({meta:y})=>[t("div",O,[e[11]||(e[11]=t("h2",{class:"text-center my-lg-10 my-4"},"1. 選擇課程",-1)),t("div",F,[t("div",I,[t("div",P,[i.changeCourse.title==="課程二"?(d(),a("div",z)):C("",!0),t("div",null,[t("div",H,[t("img",{src:i.changeCourse.imageUrl,alt:"hot-course-img"},null,8,q)]),t("div",W,[t("p",G,r(i.changeCourse.title),1),t("h4",J,r(i.changeCourse.title),1),t("div",K,[t("span",Q,"NT$ "+r(i.changeCourse.price),1),t("span",X,[e[7]||(e[7]=f("推薦指數： ")),t("div",Y,[(d(!0),a(m,null,p(i.changeCourse.stars,s=>(d(),a("i",{key:s,class:"bi bi-star-fill"}))),128))])])])])])])]),t("div",Z,[n(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.product_id=s),name:"title",as:"select",class:"form-select w-100"},[e[8]||(e[8]=t("option",{value:"",selected:"",disabled:""},"請選擇課程",-1)),(d(!0),a(m,null,p(o.courseCard,(s,h)=>(d(),a("option",{key:h.id,value:s.id,id:`course${s.id}`},r(s.title),9,$))),128))],512),[[w,o.form.product_id]]),t("div",tt,[e[9]||(e[9]=t("h5",{class:"my-3 fw-bold"},"課程內容：",-1)),t("p",null,r(i.changeCourse.content),1),t("p",null,r(i.changeCourse.hours),1)]),t("div",et,"$NT "+r(i.changeCourse.price),1)]),t("div",st,[t("div",ot,[i.changeCourse.title==="課程二"?(d(),a("div",it)):C("",!0),t("div",null,[t("div",lt,[t("img",{src:i.changeCourse.imageUrl,alt:"hot-course-img"},null,8,rt)]),t("div",at,[t("span",dt,r(i.changeCourse.title),1),t("h4",nt,r(i.changeCourse.title),1),t("div",ct,[t("h6",ut,"$NT "+r(i.changeCourse.price),1),t("span",mt,[e[10]||(e[10]=f("推薦指數： ")),t("div",ft,[(d(!0),a(m,null,p(i.changeCourse.stars,s=>(d(),a("i",{key:s,class:"bi bi-star-fill"}))),128))])])])])])])])])]),t("div",pt,[e[12]||(e[12]=t("h2",{class:"text-center my-lg-10 my-4"},"2. 選擇上課地區",-1)),t("div",ht,[(d(!0),a(m,null,p(o.teacherData,s=>(d(),a("div",{class:"col-lg-4",key:s.id,name:"terms",type:"radio",value:!0,"unchecked-value":!1},[t("label",{class:E(["business-card",{selected:s.id===o.form.address}]),for:`teacher${s.id}`},[n(t("input",{type:"radio",name:"teacher-card","onUpdate:modelValue":e[1]||(e[1]=h=>o.form.address=h),value:s.id,id:`teacher${s.id}`,placeholder:"",class:"form-check-input"},null,8,gt),[[b,o.form.address]]),t("div",vt,[t("img",{src:s.imageUrl,alt:"teacher",class:"img"},null,8,bt),t("p",yt,r(s.area),1)])],10,_t),t("div",xt,[t("span",null,r(s.title)+" 教練",1)])]))),128))])]),t("section",Ct,[t("div",wt,[e[20]||(e[20]=t("h2",{class:"text-center my-lg-10 my-4"},"3. 選擇日期 / 時段",-1)),t("div",kt,[t("div",Vt,[t("div",Dt,[t("div",Tt,[t("div",Bt,[e[13]||(e[13]=t("label",{class:"d-block pb-2",for:"due_date"},"年／月／日",-1)),n(t("input",{type:"date",value:"2024-09-23",min:"2024-09-23",max:"2028-09-17",class:"form-select mb-4 p-2","onUpdate:modelValue":e[2]||(e[2]=s=>o.form.date=s)},null,512),[[N,o.form.date]]),e[14]||(e[14]=t("div",{class:"border-top"},null,-1))])]),t("div",Ut,[t("label",jt,[n(t("input",{type:"radio",name:"time",value:"AM",checked:"",class:"form-check-input",id:"am","onUpdate:modelValue":e[3]||(e[3]=s=>o.form.time=s)},null,512),[[b,o.form.time]]),e[15]||(e[15]=f(" 上午時段（09:30 ~ 13:30） "))]),t("label",Lt,[n(t("input",{type:"radio",name:"time",value:"PM",id:"pm",class:"form-check-input","onUpdate:modelValue":e[4]||(e[4]=s=>o.form.time=s)},null,512),[[b,o.form.time]]),e[16]||(e[16]=f(" 下午時段（15:30 ~ 20:30） "))])])])])]),e[21]||(e[21]=t("h2",{class:"text-center my-lg-10 mb-4"},"4. 付款方式",-1)),t("div",St,[t("div",Et,[t("div",Nt,[t("div",null,[t("div",At,[n(t("select",{class:"form-select w-100 mb-4 p-2","onUpdate:modelValue":e[5]||(e[5]=s=>o.form.payment=s)},e[17]||(e[17]=[t("option",{value:"信用卡"},"信用卡",-1)]),512),[[w,o.form.payment]])])]),e[18]||(e[18]=t("div",{class:"text-end"},[t("span",{class:"fw-semibold"},"NT$ 1000／預繳訂金")],-1)),e[19]||(e[19]=t("p",{class:"text-end text-danger mt-3"},"※需先預繳訂金 NT 1000 元，上課後補差價",-1))])])])])]),t("div",Mt,[t("button",{type:"submit",class:"btn btn-lg btn-danger px-4 text-white",disabled:!y.valid},"立刻預約",8,Rt)])]),_:1},512)])])],64)}const qt=L(M,[["render",Ot]]);export{qt as default};
