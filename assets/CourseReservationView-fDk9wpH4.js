import{a as y}from"./axios-G2rPRu76.js";import{S as p}from"./sweetalert2.esm.all-HDkAWA8Y.js";import{L as T}from"./index-Ki64PuxF.js";import{B}from"./BreadcrumbComponents-1BZb5ga_.js";import{_ as j,c as r,b as _,a as e,w as L,F as u,r as g,o as n,t as x,u as l,d as m,v as h,x as v,y as S,n as U,z as E,A as N}from"./index-ORYo05eb.js";var A={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"rei",BASE_URL:"/2024-roaddriving/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:C,VITE_PATH:w}=A,M={data(){return{courseData:"-O8uWyxkwFrCVqMWH7hz",due_date:"",courseCard:[],products:[],teacherData:[],form:{course:"",address:""},isloading:!1,pageBreadcrumbList:["reservation"]}},methods:{getCourseData(){this.isloading=!0,y.get(`${C}/api/${w}/products/All`).then(a=>{this.products=a.data.products,this.filterData(this.products),this.isloading=!1}).catch(a=>{p.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:a.response.data.message})})},filterData(a){const t=[],d=[];a.forEach(c=>{c.category==="地區"?(t.push(c),this.teacherData=t):c.category==="課程"&&(d.push(c),this.courseCard=d)})},sendOutOrder(){this.$router.push("/checkout")},addCart(a){const t={product_id:a,qty:1};y.post(`${C}/api/${w}/cart`,{data:t}).then(()=>{p.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"success",title:"已加入購物車"})}).catch(d=>{p.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,icon:"error",title:d.response.data.message})})}},computed:{changeCourse(){const a={title:"",text:"",price:"",start:'<i class="bi bi-star-fill"><i class="bi bi-star-fill">',content:"",hours:"",imageUrl:""};return this.courseCard.filter(d=>d.id===this.courseData)[0]||a},clickAreaCardData(){return this.teacherData[this.teacherAreaData-1]||{}}},watch:{due_date(){const a=new Date(this.emitVoucher.due_date*1e3).toISOString().split("T");[this.due_date]=a}},components:{Breadcrumb:B,Loading:T},mounted(){this.getCourseData()}},R={class:"container my-lg-9 mt-5 mb-9"},O={class:"my-lg-10"},F={class:"row d-flex flex-reverse justify-content-center"},I={class:"col-lg-4 col-md-6 d-lg-block d-md-block d-none"},P={id:"hot-1",class:"hot-card shadow"},z={key:0,class:"hot-logo"},H={class:"hot-card-img"},q=["src"],W={class:"hot-card-title"},G={class:"hot-course"},J={class:"fw-semibold pt-5"},K={class:"d-flex justify-content-between align-items-center p-4 pb-5"},Q={class:"price"},X={class:"d-flex align-items-center fw-bold"},Y={class:"d-flex justify-content-center pt-1"},Z={class:"col-lg-4 col-md-6 bg-card select-card d-flex flex-column justify-content-between p-5"},$=["value","id"],ee={class:"d-grid gap-4"},te={class:"price text-end"},se={class:"d-lg-none d-md-none mt-3"},oe={id:"hot-1",class:"hot-card shadow"},ae={key:0,class:"hot-logo"},ie={class:"hot-card-img"},le=["src"],re={class:"hot-card-title"},ne={class:"hot-course"},de={class:"fw-semibold pt-5"},ce={class:"d-flex justify-content-between align-items-center p-4 pb-5"},ue={class:"price"},me={class:"d-flex align-items-center fw-bold"},he={class:"d-flex justify-content-center pt-1"},fe={class:"my-lg-10 mt-5"},pe={class:"row"},_e=["for"],ge=["value","id"],ve={class:"teachers-img"},be=["src"],ye={class:"area"},xe={class:"text-center pt-lg-4 pb-4"},Ce={class:"my-lg-10 mt-5"},we={class:"container"},ke={class:"row justify-content-center mb-5"},De={class:"col-lg-7"},Ve={class:"select-card bg-card p-5"},Te={class:""},Be={class:"mb-4 date"},je={class:"d-flex justify-content-center mb-lg-9 mt-4"},Le=["disabled"];function Se(a,t,d,c,i,o){const k=g("Loading"),D=g("Breadcrumb"),V=g("VForm");return n(),r(u,null,[_(k,{active:i.isloading,"z-index":1060},null,8,["active"]),t[17]||(t[17]=e("div",{class:"reservation-bg mb-3"},[e("h2",{class:"bg-banner"},"預約報名")],-1)),_(D,{class:"navigation container mt-3","page-breadcrumb-list":i.pageBreadcrumbList},null,8,["page-breadcrumb-list"]),e("main",null,[e("div",R,[t[16]||(t[16]=e("div",{class:"text-center text-primary pb-8"},[e("p",{class:"main-title fs-1 fw-bold"},"開始預約")],-1)),_(V,{ref:"form",onSubmit:t[3]||(t[3]=b=>o.addCart(i.form))},{default:L(({meta:b})=>[e("div",O,[t[8]||(t[8]=e("h2",{class:"text-center my-lg-10 my-4"},"1. 選擇課程",-1)),e("div",F,[e("div",I,[e("div",P,[o.changeCourse.title==="課程二"?(n(),r("div",z)):x("",!0),e("div",null,[e("div",H,[e("img",{src:o.changeCourse.imageUrl,alt:"hot-course-img"},null,8,q)]),e("div",W,[e("p",G,l(o.changeCourse.title),1),e("h4",J,l(o.changeCourse.title),1),e("div",K,[e("span",Q,"NT$ "+l(o.changeCourse.price),1),e("span",X,[t[4]||(t[4]=m("推薦指數： ")),e("div",Y,[(n(!0),r(u,null,h(o.changeCourse.stars,s=>(n(),r("i",{key:s,class:"bi bi-star-fill"}))),128))])])])])])])]),e("div",Z,[v(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.form.course=s),name:"title",as:"select",class:"form-select w-100"},[t[5]||(t[5]=e("option",{value:"",selected:"",disabled:""},"請選擇課程",-1)),(n(!0),r(u,null,h(i.courseCard,(s,f)=>(n(),r("option",{key:f.id,value:s.id,id:`course${s.id}`},l(s.title),9,$))),128))],512),[[S,i.form.course]]),e("div",ee,[t[6]||(t[6]=e("h5",{class:"my-3 fw-bold"},"課程內容：",-1)),e("p",null,l(o.changeCourse.content),1),e("p",null,l(o.changeCourse.hours),1)]),e("div",te,"$NT "+l(o.changeCourse.price),1)]),e("div",se,[e("div",oe,[o.changeCourse.title==="課程二"?(n(),r("div",ae)):x("",!0),e("div",null,[e("div",ie,[e("img",{src:o.changeCourse.imageUrl,alt:"hot-course-img"},null,8,le)]),e("div",re,[e("span",ne,l(o.changeCourse.title),1),e("h4",de,l(o.changeCourse.title),1),e("div",ce,[e("h6",ue,"$NT "+l(o.changeCourse.price),1),e("span",me,[t[7]||(t[7]=m("推薦指數： ")),e("div",he,[(n(!0),r(u,null,h(o.changeCourse.stars,s=>(n(),r("i",{key:s,class:"bi bi-star-fill"}))),128))])])])])])])])])]),e("div",fe,[t[9]||(t[9]=e("h2",{class:"text-center my-lg-10 my-4"},"2. 選擇上課地區",-1)),e("div",pe,[(n(!0),r(u,null,h(i.teacherData,s=>(n(),r("div",{class:"col-lg-4",key:s.id,name:"terms",type:"radio",value:!0,"unchecked-value":!1},[e("label",{class:U(["business-card",{selected:s.id===i.form.address}]),for:`teacher${s.id}`},[v(e("input",{type:"radio",name:"teacher-card","onUpdate:modelValue":t[1]||(t[1]=f=>i.form.address=f),value:s.id,id:`teacher${s.id}`,placeholder:"",class:"form-check-input"},null,8,ge),[[E,i.form.address]]),e("div",ve,[e("img",{src:s.imageUrl,alt:"teacher",class:"img"},null,8,be),e("p",ye,l(s.area),1)])],10,_e),e("div",xe,[e("span",null,l(s.title)+" 教練",1)])]))),128))])]),e("section",Ce,[e("div",we,[t[13]||(t[13]=e("h2",{class:"text-center my-lg-10 my-4"},"3. 選擇日期 / 時段",-1)),e("div",ke,[e("div",De,[e("div",Ve,[e("div",Te,[e("div",Be,[t[10]||(t[10]=e("label",{class:"d-block pb-2",for:"due_date"},"年／月／日",-1)),v(e("input",{type:"date",value:"2024-09-23",min:"2024-09-23",max:"2028-09-17",class:"form-select mb-4 p-2","onUpdate:modelValue":t[2]||(t[2]=s=>i.form.date=s)},null,512),[[N,i.form.date]]),t[11]||(t[11]=e("div",{class:"border-top"},null,-1))])]),t[12]||(t[12]=e("div",{class:"d-flex justify-content-between d-grid gap-4"},[e("label",{for:"am",class:"form-check-label"},[e("input",{type:"radio",name:"time",value:"AM",checked:"",class:"form-check-input",id:"am"}),m(" 上午時段（09:30 ~ 13:30） ")]),e("label",{for:"pm",class:"form-check-label"},[e("input",{type:"radio",name:"time",value:"PM",id:"pm",class:"form-check-input"}),m(" 下午時段（15:30 ~ 20:30） ")])],-1))])])]),t[14]||(t[14]=e("h2",{class:"text-center my-lg-10 mb-4"},"4. 付款方式",-1)),t[15]||(t[15]=e("div",{class:"row justify-content-center"},[e("div",{class:"col-lg-7"},[e("div",{class:"select-card p-5 d-flex flex-column justify-content-between bg-card"},[e("div",null,[e("div",{class:"payment d-flex justify-content-center mb-lg-0 mb-4"},[e("select",{class:"form-select w-100 mb-4 p-2"},[e("option",{value:"信用卡"},"信用卡")])])]),e("div",{class:"text-end"},[e("span",{class:"fw-semibold"},"NT$ 1000／預繳訂金")]),e("p",{class:"text-end text-danger mt-3"},"※需先預繳訂金 NT 1000 元，上課後補差價")])])],-1))])]),e("div",je,[e("button",{type:"submit",class:"btn btn-lg btn-danger px-4 text-white",disabled:!b.valid},"立刻預約",8,Le)])]),_:1},512)])])],64)}const Re=j(M,[["render",Se]]);export{Re as default};
